bots2/
├── main.py                    # Обновленная точка входа
├── requirements.txt           # Обновленные зависимости
├── config/
│   ├── __init__.py
│   ├── settings.py           # Общие настройки (бывшие trading_settings.py + assets.py)
│   └── exchange_config.py    # Конфигурация бирж
├── core/
│   ├── __init__.py
│   ├── engine_runner.py      # Оркестратор расчетов
│   ├── data_handler.py       # Улучшенный обработчик данных
│   ├── exchange_client.py    # Клиент для работы с биржами
│   └── state_manager.py      # Управление состоянием
├── engine/
│   ├── __init__.py
│   ├── levels.py
│   ├── margin.py
│   ├── confluence.py
│   ├── cme.py
│   └── signals.py           # Новая логика сигналов из trading_tab.py
├── storage/
│   ├── __init__.py
│   ├── database.py          # SQLite операции
│   ├── models.py            # Модели данных
│   └── history_manager.py   # Управление историей тестов
├── backtest/
│   ├── __init__.py
│   ├── runner.py            # Запуск тестов
│   ├── strategy_tester.py   # Логика тестирования
│   └── results_analyzer.py  # Анализ результатов
├── web/
│   ├── __init__.py
│   ├── app.py               # FastAPI приложение
│   ├── routes/
│   │   ├── api.py
│   │   ├── trading.py
│   │   └── backtest.py
│   └── static/
│       └── index.html       # Веб-интерфейс
├── utils/
│   ├── __init__.py
│   ├── helpers.py           # Вспомогательные функции
│   ├── validators.py        # Валидация данных
│   └── logger.py            # Логирование
├── notify/
│   ├── __init__.py
│   ├── telegram.py
│   └── webhook.py
└── tests/
    ├── __init__.py
    └── test_engine.py
